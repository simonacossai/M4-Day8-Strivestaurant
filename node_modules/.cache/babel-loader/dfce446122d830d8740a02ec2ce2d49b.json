{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Simona\\\\Desktop\\\\M4-D7-Strivestaurant-p4\\\\src\\\\components\\\\ReservationForm.jsx\";\nimport React from 'react';\nimport { Alert, Button, Col, Form, Row, Spinner } from 'react-bootstrap';\n\nclass ReservationForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      reservation: {\n        name: '',\n        phone: '',\n        numberOfPersons: '1',\n        smoking: false,\n        dateTime: '',\n        specialRequests: ''\n      },\n      errMessage: '',\n      loading: false\n    };\n\n    this.updateReservationField = e => {\n      let reservation = { ...this.state.reservation\n      }; // creating a copy of the current state\n\n      let currentId = e.currentTarget.id; // 'name', 'phone', etc.\n\n      if (currentId === 'smoking') {\n        reservation[currentId] = e.currentTarget.checked;\n      } else {\n        reservation[currentId] = e.currentTarget.value; // e.currentTarget.value is the keystroke\n      } //reservation['name'] --> reservation.name = 'S'\n      //reservation['phone'] --> reservation.phone = '3'\n\n\n      this.setState({\n        reservation: reservation\n      });\n    };\n\n    this.submitReservation = async e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n\n      try {\n        let response = await fetch('https://striveschool.herokuapp.com/api/reservation', {\n          method: 'POST',\n          body: JSON.stringify(this.state.reservation),\n          headers: new Headers({\n            \"Content-Type\": \"application/json\"\n          })\n        });\n\n        if (response.ok) {\n          alert('Reservation saved!');\n          this.setState({\n            reservation: {\n              name: '',\n              phone: '',\n              numberOfPersons: '1',\n              smoking: false,\n              dateTime: '',\n              specialRequests: ''\n            },\n            errMessage: '',\n            loading: false\n          });\n        } else {\n          console.log('an error occurred');\n          let error = await response.json();\n          this.setState({\n            errMessage: error.message,\n            loading: false\n          });\n        }\n      } catch (e) {\n        console.log(e); // Error\n\n        this.setState({\n          errMessage: e.message,\n          loading: false\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center my-5\",\n        children: [\"Reserving your table, please wait\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-2\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }, this), this.state.errMessage ? /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: [\"We encountered a problem with your request\", this.state.errMessage]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(Form, {\n        className: \"w-100 mb-5\",\n        onSubmit: this.submitReservation,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"name\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"name\",\n                id: \"name\",\n                placeholder: \"Your name\",\n                value: this.state.reservation.name,\n                onChange: this.updateReservationField,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"phone\",\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                name: \"phone\",\n                id: \"phone\",\n                placeholder: \"Your phone\",\n                required: true,\n                value: this.state.reservation.phone,\n                onChange: this.updateReservationField\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 5,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"numberOfPersons\",\n                children: \"How many people?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"select\",\n                name: \"numberOfPersons\",\n                id: \"numberOfPersons\",\n                value: this.state.reservation.numberOfPersons,\n                onChange: this.updateReservationField,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            className: \"flex flex-column align-self-end\",\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: /*#__PURE__*/_jsxDEV(Form.Label, {\n                children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                  type: \"checkbox\",\n                  id: \"smoking\",\n                  label: \"Smoking?\",\n                  checked: this.state.reservation.smoking,\n                  onChange: this.updateReservationField\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 5,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"dateTime\",\n                children: \"Date and Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"datetime-local\",\n                name: \"dateTime\",\n                id: \"dateTime\",\n                placeholder: \"Date and Time\",\n                value: this.state.reservation.dateTime,\n                onChange: this.updateReservationField,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: 12,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"specialRequests\",\n                children: \"Special requests\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"specialRequests\",\n                id: \"specialRequests\",\n                placeholder: \"Your special requests\",\n                value: this.state.reservation.specialRequests,\n                onChange: this.updateReservationField\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ReservationForm;","map":{"version":3,"sources":["C:/Users/Simona/Desktop/M4-D7-Strivestaurant-p4/src/components/ReservationForm.jsx"],"names":["React","Alert","Button","Col","Form","Row","Spinner","ReservationForm","Component","state","reservation","name","phone","numberOfPersons","smoking","dateTime","specialRequests","errMessage","loading","updateReservationField","e","currentId","currentTarget","id","checked","value","setState","submitReservation","preventDefault","response","fetch","method","body","JSON","stringify","headers","Headers","ok","alert","console","log","error","json","message","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Alert, Button, Col, Form, Row, Spinner } from 'react-bootstrap'\r\n\r\nclass ReservationForm extends React.Component {\r\n    state = {\r\n        reservation: {\r\n            name: '',\r\n            phone: '',\r\n            numberOfPersons: '1',\r\n            smoking: false,\r\n            dateTime: '',\r\n            specialRequests: ''\r\n        },\r\n        errMessage: '',\r\n        loading: false\r\n    }\r\n\r\n    updateReservationField = (e) => {\r\n        let reservation = { ...this.state.reservation } // creating a copy of the current state\r\n        let currentId = e.currentTarget.id // 'name', 'phone', etc.\r\n\r\n        if (currentId === 'smoking') {\r\n            reservation[currentId] = e.currentTarget.checked\r\n        } else {\r\n            reservation[currentId] = e.currentTarget.value // e.currentTarget.value is the keystroke\r\n        }\r\n        //reservation['name'] --> reservation.name = 'S'\r\n        //reservation['phone'] --> reservation.phone = '3'\r\n        this.setState({ reservation: reservation })\r\n    }\r\n\r\n    submitReservation = async (e) => {\r\n        e.preventDefault();\r\n        this.setState({ loading: true })\r\n        try {\r\n            let response = await fetch('https://striveschool.herokuapp.com/api/reservation',\r\n                {\r\n                    method: 'POST',\r\n                    body: JSON.stringify(this.state.reservation),\r\n                    headers: new Headers({\r\n                        \"Content-Type\": \"application/json\"\r\n                    })\r\n                })\r\n            if (response.ok) {\r\n                alert('Reservation saved!')\r\n                this.setState({\r\n                    reservation: {\r\n                        name: '',\r\n                        phone: '',\r\n                        numberOfPersons: '1',\r\n                        smoking: false,\r\n                        dateTime: '',\r\n                        specialRequests: ''\r\n                    },\r\n                    errMessage: '',\r\n                    loading: false,\r\n                })\r\n            } else {\r\n                console.log('an error occurred')\r\n                let error = await response.json()\r\n                this.setState({\r\n                    errMessage: error.message,\r\n                    loading: false,\r\n                })\r\n            }\r\n        } catch (e) {\r\n            console.log(e) // Error\r\n            this.setState({\r\n                errMessage: e.message,\r\n                loading: false,\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\r\n                     this.state.loading && (\r\n                        <div className=\"d-flex justify-content-center my-5\">\r\n                            Reserving your table, please wait\r\n                            <div className=\"ml-2\">\r\n                                <Spinner animation=\"border\" variant=\"success\" />\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n                {\r\n                      this.state.errMessage ? (\r\n                        <Alert variant=\"danger\">\r\n                            We encountered a problem with your request\r\n                            {this.state.errMessage}\r\n                        </Alert>\r\n                  \r\n                    ):\r\n                \r\n                (<Form className=\"w-100 mb-5\" onSubmit={this.submitReservation}>\r\n                    <Row>\r\n                        <Col md={6}>\r\n                            <Form.Group>\r\n                                <Form.Label htmlFor=\"name\">Name</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    name=\"name\"\r\n                                    id=\"name\"\r\n                                    placeholder=\"Your name\"\r\n                                    value={this.state.reservation.name}\r\n                                    onChange={this.updateReservationField}\r\n                                    required\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col md={6}>\r\n                            <Form.Group>\r\n                                <Form.Label htmlFor=\"phone\">Phone</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"number\"\r\n                                    name=\"phone\"\r\n                                    id=\"phone\"\r\n                                    placeholder=\"Your phone\"\r\n                                    required\r\n                                    value={this.state.reservation.phone}\r\n                                    onChange={this.updateReservationField}\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={5}>\r\n                            <Form.Group>\r\n                                <Form.Label htmlFor=\"numberOfPersons\">\r\n                                    How many people?\r\n                            </Form.Label>\r\n                                <Form.Control\r\n                                    as=\"select\"\r\n                                    name=\"numberOfPersons\"\r\n                                    id=\"numberOfPersons\"\r\n                                    value={this.state.reservation.numberOfPersons}\r\n                                    onChange={this.updateReservationField}\r\n                                >\r\n                                    <option>1</option>\r\n                                    <option>2</option>\r\n                                    <option>3</option>\r\n                                    <option>4</option>\r\n                                    <option>5</option>\r\n                                    <option>6</option>\r\n                                    <option>7</option>\r\n                                    <option>8</option>\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col md={2} className=\"flex flex-column align-self-end\">\r\n                            <Form.Group>\r\n                                <Form.Label>\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        id=\"smoking\"\r\n                                        label=\"Smoking?\"\r\n                                        checked={this.state.reservation.smoking}\r\n                                        onChange={this.updateReservationField}\r\n                                    />\r\n                                </Form.Label>\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col md={5}>\r\n                            <Form.Group>\r\n                                <Form.Label htmlFor=\"dateTime\">Date and Time</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"datetime-local\"\r\n                                    name=\"dateTime\"\r\n                                    id=\"dateTime\"\r\n                                    placeholder=\"Date and Time\"\r\n                                    value={this.state.reservation.dateTime}\r\n                                    onChange={this.updateReservationField}\r\n                                    required\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={12}>\r\n                            <Form.Group>\r\n                                <Form.Label htmlFor=\"specialRequests\">Special requests</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    name=\"specialRequests\"\r\n                                    id=\"specialRequests\"\r\n                                    placeholder=\"Your special requests\"\r\n                                    value={this.state.reservation.specialRequests}\r\n                                    onChange={this.updateReservationField}\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Row>\r\n                    <Button type=\"submit\">Submit</Button>\r\n                </Form>\r\n                )\r\n            }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ReservationForm"]},"metadata":{},"sourceType":"module"}